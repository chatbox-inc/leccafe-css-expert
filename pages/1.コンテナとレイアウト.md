# コンテナとレイアウト

CSS のベースを構築する上で、コンテナとレイアウトの設計は非常に重要です。

コンテナやレイアウトのような要素の配置の設計を適切に行う事により、
変更に強く管理しやすい CSS 構築することができます。

柔軟に変化に対応できる Webデザインを実現するために、
コンテナとレイアウトの設計の基本を学んで行きましょう。

## 基本の CSS の考え方

photoshop などのデザインツールと違って、CSSは積み上げ式のレイアウトです。
上の階層でレイアウトに変化があった場合、下に位置する要素は全て再描画されます。

photoshop などでは一つの要素でデザインに変化を起こしても、
そのオブジェクト内でのみ影響が起こりますが、
CSS ではその周辺に対しても大きな影響が起こります。

--IMAGE HERE--

CSS で変化に強いデザインを表現するには、ブロックの考え方がとても重要です。

ブロック内の変更がほかに影響を及ぼさないことがとても大事

## コンテナ

コンテナは、Webサイトを構築する上で重要な要素です。
コンテナは、画面の水平レベルでの制御範囲を定義する役割を持ちます。

一般的に PC向けのサイトデザインでは、700 - 1500 px 程度の幅のコンテナが設定されているケースがほとんどです。
コンテナの設定がない(画面サイズに対して常に 100% でデザインを標示する)場合、
テキストの折り返し等が起こる位置がバラバラになり、
同じテキスト量の高さが、画面サイズによって何倍にも変化してしまうなど、
見栄え上の問題がたくさん起こってきます。
最近では 4K のディスプレイ等も出回っていているため、大画面も想定して適切なコンテナ幅を設定するようにしましょう。

画面の小さなタブレットやSPの場合、画面のサイズに応じた 100% でのコンテナが取られるケースがほとんどです。
この場合、画面のサイズに応じてコンテンツは柔軟に変化して表示されることとなります。
また コンテナが 画面幅 100% と言っても、画面縁ギリギリまで要素を配置したいケースは少ないでしょう。
画面の左右に適切な余白を設定したい場合、95% 程度のコンテナ幅を設定するか、
コンテナの左右に適切な パディングを設けて非表示領域を設定しましょう。

### コンテナとコーディング

コンテナをCSS で表現する場合、以下のようなコードになります。

```css
.container{
    width: 100%;
    max-width: 784px;
    margin-right: auto;
    margin-left: auto;
}
```

これを使ってHTMLを記述する場合、以下のような形になるでしょう。

```html
<div class="container">
    <section class="header"> ... </section>
    <section class="hero"> ... </section>
    <section class="about"> ... </section>
    <section class="service-list"> ... </section>
    <section class="contact"> ... </section>
    <section class="footer"> ... </section>
</div>
```

全ての要素をコンテナ要素の内部に配置するコーディングはシンプルでわかりやすい反面、
コンテナの外部に何も装飾を施せないという欠点があります。

通常、コンテナの外部にはコンテンツを配置しませんが、
背景色や罫線などはコンテナを突き抜けて、画面全体に展開したいケースもあるでしょう。

```html
<section class="header">
    <div class="container"> ... </div>
</section>
<section class="hero">
    <div class="container"> ... </div>
</section>
<section class="about">
    <div class="container"> ... </div>
</section>
<section class="service-list">
    <div class="container"> ... </div>
</section>
<section class="contact">
    <div class="container"> ... </div>
</section>
<section class="footer">
    <div class="container"> ... </div>
</section>
```

上記のようにそれぞれのセクションごとが内部にコンテナを含むようにすれば、
コンテナ外への装飾も簡単に適用することができるようになります。

## コンテンツのまとまりとブロック 

通常サイト内のコンテンツは、一枚岩でできているのではなく、
複数の意味上のまとまりから構成されています。

サイト内で何らかの意味を持った独立した塊(ｶﾀﾏﾘ)を、
セクショニング・コンテンツといって、
`div` ではでなくセクショニング・コンテンツ用のタグを用いてコーディングされることが推奨されています。

- `section` ページのコンテンツ内で アウトライン上の単位(章・節・項)として成立するまとまり
- `article` ページのコンテンツ内で、独立完結した一つのドキュメントとして捉えられるまとまり
- `aside` ページの主要な要素に対して、補足的なコンテンツとしてのまとまり
- `nav` ページのコンテンツ内で、他のページに対する誘導を行うためのまとまり

セクショニングコンテンツは、それ自体が意味あいを持ったまとまりであるため、
そこには何らかの名前がつけられるはずです。
そのため、セクショニングコンテンツの内部では h1-6 系の見出しタグを利用した見出しの定義が推奨されています。

セクショニングコンテンツの内部には新しいセクショニングコンテンツを記述することも可能です。

```html
<section>
    <h2>私達にできること</h2>
    <p>私達は Web制作事業を通じて、様々なお客様の ... </p>
    <section>
        <h3>メディアサイト制作</h3>
        <p>メディアサイト制作の豊富な事例と実績を基に ...</p>
    </section>
    <section>
        <h3>官公庁向けサイト制作</h3>
        <p>メディアサイト制作の豊富な事例と実績を基に ...</p>
    </section>
</section>
```

セクショニングコンテンツがページ内での意味上の表すのに対し、
`header` や `footer` は、ページ全体または特定のセクション内でのレイアウト上での意味付け（ヘッダー・フッター）を表します。

このため、`header` や `footer`　内への見出し要素の配置は完全に任意となっています。

### セクションとブロック

ブロックレベル要素は、親要素に対して 幅 100% で表示されるコンテンツです。
ブロックレベル要素は、要素の配置されるスペースに置いて左右の折返しも無いため、
ブロックレベル要素のみからなるデザインは比較的安定します。

一つのデザイン修正を行った際に、他のレイアウトにまで何かが影響するのは、
たいていインラインレベルの左右干渉があった場合です。

あらゆる部分に対して、インラインの横並びデザインを避けるわけには行かないですし、
ブロックレベル要素のみでデザインを進めるわけにも行きません。

通常デザインやレイアウトの修正は意味上のまとまりの範囲内で行われるケースが多いでしょう。
（デザイン確定後の運用上のコンテンツ修正は特に）。
このようなケースを想定した際に、ブロックと、意味上のまとまりが紐付いていると
改修しやすいコーディングとなります。

意味上のまとまりはセクショニングコンテンツとしてコーディングを行い、
再レイアウト可能なコンテンツとして、配置することで、
サイトじょうでの意味的な役割の変化等に対応しやすいデザインとなるでしょう。

逆に意味合いの異なるコンテンツが横に並んでいるサイトは
意味合いの変化にとても弱くなってきます。

ヘッダーに様々な要素が並んできたりとか…
（eccubeのヘッダーとか）

### 仕様の変更、コンテンツの変化

デザインが確定したあとの、サイト仕様の変更はどのようにして起こるでしょう？

仕様変更はセクショニングの単位で起こりやすい

要求をセクショニングの範囲でカプセル化できるように

レイアウト(デザイン)は変わる。コンテンツの意味合いは常に変化する

### セクショニングコンテンツとブロック

クラス名の工夫

__ブロック内のコーディング

ブロック内部も積み上げでコーディングをすすめる

ブロックが変更を吸収する単位

## レイアウトコーディングのテクニック

### ブロック要素とインライン要素

### 横に並べるコーディング

### Flexbox

### ブロック内での垂直・水平中央揃え

 


### ブロックとマージンの管理


__マージンの管理

マージンは上につける？下につける？

相殺

下で統一

